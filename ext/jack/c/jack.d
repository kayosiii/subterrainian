module jack.c.jack;

import core.stdc.config;
import core.stdc.stdarg: va_list;
static import core.simd;
static import std.conv;
import jack.c.types;

extern(C) @system @nogc nothrow
{
    void jack_set_transport_info(_jack_client*, jack_transport_info_t*) @nogc nothrow;
    void jack_get_transport_info(_jack_client*, jack_transport_info_t*) @nogc nothrow;
    void jack_transport_stop(_jack_client*) @nogc nothrow;
    void jack_transport_start(_jack_client*) @nogc nothrow;
    int jack_transport_reposition(_jack_client*, const(_jack_position)*) @nogc nothrow;
    uint jack_get_current_transport_frame(const(_jack_client)*) @nogc nothrow;
    jack_transport_state_t jack_transport_query(const(_jack_client)*, _jack_position*) @nogc nothrow;
    int jack_transport_locate(_jack_client*, uint) @nogc nothrow;
    int jack_set_timebase_callback(_jack_client*, int, void function(jack_transport_state_t, uint, _jack_position*, int, void*), void*) @nogc nothrow;
    int jack_set_sync_timeout(_jack_client*, c_ulong) @nogc nothrow;
    int jack_set_sync_callback(_jack_client*, int function(jack_transport_state_t, _jack_position*, void*), void*) @nogc nothrow;
    
    c_long imaxabs(c_long) @nogc nothrow;
    imaxdiv_t imaxdiv(c_long, c_long) @nogc nothrow;
    c_long strtoimax(const(char)*, char**, int) @nogc nothrow;
    c_ulong strtoumax(const(char)*, char**, int) @nogc nothrow;
    c_long wcstoimax(const(int)*, int**, int) @nogc nothrow;
    c_ulong wcstoumax(const(int)*, int**, int) @nogc nothrow;
    void jack_get_version(int*, int*, int*, int*) @nogc nothrow;
    const(char)* jack_get_version_string() @nogc nothrow;
    _jack_client* jack_client_open(const(char)*, JackOptions, JackStatus*, ...) @nogc nothrow;
    int jack_client_close(_jack_client*) @nogc nothrow;
    int jack_client_name_size() @nogc nothrow;
    char* jack_get_client_name(_jack_client*) @nogc nothrow;
    char* jack_get_uuid_for_client_name(_jack_client*, const(char)*) @nogc nothrow;
    char* jack_get_client_name_by_uuid(_jack_client*, const(char)*) @nogc nothrow;
    int jack_internal_client_new(const(char)*, const(char)*, const(char)*) @nogc nothrow;
    void jack_internal_client_close(const(char)*) @nogc nothrow;
    int jack_activate(_jack_client*) @nogc nothrow;
    int jack_deactivate(_jack_client*) @nogc nothrow;
    int jack_get_client_pid(const(char)*) @nogc nothrow;
    c_ulong jack_client_thread_id(_jack_client*) @nogc nothrow;
    int jack_is_realtime(_jack_client*) @nogc nothrow;
    uint jack_cycle_wait(_jack_client*) @nogc nothrow;
    void jack_cycle_signal(_jack_client*, int) @nogc nothrow;
    int jack_set_process_thread(_jack_client*, void* function(void*), void*) @nogc nothrow;
    int jack_set_thread_init_callback(_jack_client*, void function(void*), void*) @nogc nothrow;
    void jack_on_shutdown(_jack_client*, void function(void*), void*) @nogc nothrow;
    void jack_on_info_shutdown(_jack_client*, void function(JackStatus, const(char)*, void*), void*) @nogc nothrow;
    int jack_set_process_callback(_jack_client*, int function(uint, void*), void*) @nogc nothrow;
    int jack_set_freewheel_callback(_jack_client*, void function(int, void*), void*) @nogc nothrow;
    int jack_set_buffer_size_callback(_jack_client*, int function(uint, void*), void*) @nogc nothrow;
    int jack_set_sample_rate_callback(_jack_client*, int function(uint, void*), void*) @nogc nothrow;
    int jack_set_client_registration_callback(_jack_client*, void function(const(char)*, int, void*), void*) @nogc nothrow;
    int jack_set_port_registration_callback(_jack_client*, void function(uint, int, void*), void*) @nogc nothrow;
    int jack_set_port_connect_callback(_jack_client*, void function(uint, uint, int, void*), void*) @nogc nothrow;
    int jack_set_port_rename_callback(_jack_client*, void function(uint, const(char)*, const(char)*, void*), void*) @nogc nothrow;
    int jack_set_graph_order_callback(_jack_client*, int function(void*), void*) @nogc nothrow;
    int jack_set_xrun_callback(_jack_client*, int function(void*), void*) @nogc nothrow;
    int jack_set_latency_callback(_jack_client*, void function(JackLatencyCallbackMode, void*), void*) @nogc nothrow;
    int jack_set_freewheel(_jack_client*, int) @nogc nothrow;
    int jack_set_buffer_size(_jack_client*, uint) @nogc nothrow;
    uint jack_get_sample_rate(_jack_client*) @nogc nothrow;
    uint jack_get_buffer_size(_jack_client*) @nogc nothrow;
    float jack_cpu_load(_jack_client*) @nogc nothrow;

    _jack_port* jack_port_register(_jack_client*, const(char)*, const(char)*, c_ulong, c_ulong) @nogc nothrow;
    int jack_port_unregister(_jack_client*, _jack_port*) @nogc nothrow;
    void* jack_port_get_buffer(_jack_port*, uint) @nogc nothrow;
    c_ulong jack_port_uuid(const(_jack_port)*) @nogc nothrow;
    const(char)* jack_port_name(const(_jack_port)*) @nogc nothrow;
    const(char)* jack_port_short_name(const(_jack_port)*) @nogc nothrow;
    int jack_port_flags(const(_jack_port)*) @nogc nothrow;
    const(char)* jack_port_type(const(_jack_port)*) @nogc nothrow;
    uint jack_port_type_id(const(_jack_port)*) @nogc nothrow;
    int jack_port_is_mine(const(_jack_client)*, const(_jack_port)*) @nogc nothrow;
    int jack_port_connected(const(_jack_port)*) @nogc nothrow;
    int jack_port_connected_to(const(_jack_port)*, const(char)*) @nogc nothrow;
    const(char)** jack_port_get_connections(const(_jack_port)*) @nogc nothrow;
    const(char)** jack_port_get_all_connections(const(_jack_client)*, const(_jack_port)*) @nogc nothrow;
    int jack_port_rename(_jack_client*, _jack_port*, const(char)*) @nogc nothrow;
    int jack_port_set_alias(_jack_port*, const(char)*) @nogc nothrow;
    int jack_port_unset_alias(_jack_port*, const(char)*) @nogc nothrow;
    int jack_port_get_aliases(const(_jack_port)*, char**) @nogc nothrow;
    int jack_port_request_monitor(_jack_port*, int) @nogc nothrow;
    int jack_port_request_monitor_by_name(_jack_client*, const(char)*, int) @nogc nothrow;
    int jack_port_ensure_monitor(_jack_port*, int) @nogc nothrow;
    int jack_port_monitoring_input(_jack_port*) @nogc nothrow;
    int jack_connect(_jack_client*, const(char)*, const(char)*) @nogc nothrow;
    int jack_disconnect(_jack_client*, const(char)*, const(char)*) @nogc nothrow;
    int jack_port_disconnect(_jack_client*, _jack_port*) @nogc nothrow;
    int jack_port_name_size() @nogc nothrow;
    int jack_port_type_size() @nogc nothrow;
    
    c_ulong jack_port_type_get_buffer_size(_jack_client*, const(char)*) @nogc nothrow;
    void jack_port_get_latency_range(_jack_port*, JackLatencyCallbackMode, JackLatencyRange*) @nogc nothrow;
    void jack_port_set_latency_range(_jack_port*, JackLatencyCallbackMode, JackLatencyRange*) @nogc nothrow;
    int jack_recompute_total_latencies(_jack_client*) @nogc nothrow;
    const(char)** jack_get_ports(_jack_client*, const(char)*, const(char)*, c_ulong) @nogc nothrow;
    _jack_port* jack_port_by_name(_jack_client*, const(char)*) @nogc nothrow;
    _jack_port* jack_port_by_id(_jack_client*, uint) @nogc nothrow;
    uint jack_frames_since_cycle_start(const(_jack_client)*) @nogc nothrow;
    uint jack_frame_time(const(_jack_client)*) @nogc nothrow;
    uint jack_last_frame_time(const(_jack_client)*) @nogc nothrow;
    int jack_get_cycle_times(const(_jack_client)*, uint*, c_ulong*, c_ulong*, float*) @nogc nothrow;
    c_ulong jack_frames_to_time(const(_jack_client)*, uint) @nogc nothrow;
    uint jack_time_to_frames(const(_jack_client)*, c_ulong) @nogc nothrow;
    c_ulong jack_get_time() @nogc nothrow;
    extern __gshared void function(const(char)*) jack_error_callback;
    void jack_set_error_function(void function(const(char)*)) @nogc nothrow;
    extern __gshared void function(const(char)*) jack_info_callback;
    void jack_set_info_function(void function(const(char)*)) @nogc nothrow;
    void jack_free(void*) @nogc nothrow;
    int jack_release_timebase(_jack_client*) @nogc nothrow;
}